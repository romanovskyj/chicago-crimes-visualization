<!DOCTYPE html>
<html>
<head>
  <title>Chicago Crimes Analysis</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="assets/styles/chart.css">
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script type="text/javascript" src="js/total.js"></script>
  <script type="text/javascript" src="js/categories.js"></script>
  <script src="js/lodash.js"></script>
</head>

<body id="myPage">

<!-- Image Header -->
<div class="w3-display-container w3-animate-opacity">
  <img src="assets/images/header_background.jpg" alt="boat" style="width:100%;min-height:350px;max-height:600px;">
  <div class="w3-container w3-display-bottomleft w3-margin-bottom">  
    <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-xlarge w3-theme w3-hover-teal" title="Go To W3.CSS">CHICAGO CRIMES ANALYSIS</button>
  </div>
</div>

<div class="w3-container w3-padding-64 w3-left" >
  <h2>NUMBER OF CRIMES BY DIFFERENT YEARS</h2>
  <p>Below you can explore the bar chart that represents number of crimes for each year. When you click to "Arrested Only" button, you will be able to see statistic for the cases where arrests happened</p>
</div>

<div class="w3-row-padding">
  <div class="chart-container">
    <div class="w3-container" id="year-chart"></div>
  </div>
  <div>
    <label for="checkbox-arrested">Arrested Only</label>
    <input type="checkbox" id="checkbox-arrested">
  </div>
</div>

<div class="w3-container" >
  <p>As you can see, even total number of crimes is not decreased last years, there is definitily decrease for the cases with arrests. It means that there are less heavy crimes from year to year and it is positive trend for sure.</p>
  <p>If you are interested in details, you can use below chart in order to understand how much of total value particular crime type brings</p>
</div>

<div class="w3-row-padding">
  <div class="chart-categories">
    <div class="w3-container" id="categories-chart"></div>  
  </div>
  <div class="select-crime">
    <label for="crime-type">Select a crime type</label>
    <select name="crime-type" id="crime-type">
      <option>ASSAULT</option>
      <option>BATTERY</option>
      <option>BURGLARY</option>
      <option>CONCEALED CARRY LICENSE VIOLATION</option>
      <option>CRIM SEXUAL ASSAULT</option>
      <option>CRIMINAL DAMAGE</option>
      <option>CRIMINAL TRESPASS</option>
      <option>DECEPTIVE PRACTICE</option>
      <option>GAMBLING</option>
      <option>HOMICIDE</option>
      <option>HUMAN TRAFFICKING</option>
      <option>INTERFERENCE WITH PUBLIC OFFICER</option>
      <option>INTIMIDATION</option>
      <option>KIDNAPPING</option>
      <option>LIQUOR LAW VIOLATION</option>
      <option>MOTOR VEHICLE THEFT</option>
      <option>NARCOTICS</option>
      <option>NON-CRIMINAL</option>
      <option>OBSCENITY</option>
      <option>OFFENSE INVOLVING CHILDREN</option>
      <option>OTHER NARCOTIC VIOLATION</option>
      <option>OTHER OFFENSE</option>
      <option>PROSTITUTION</option>
      <option>PUBLIC INDECENCY</option>
      <option>PUBLIC PEACE VIOLATION</option>
      <option>ROBBERY</option>
      <option>SEX OFFENSE</option>
      <option>STALKING</option>
      <option>THEFT</option>
      <option>WEAPONS VIOLATION</option>
    </select>
  </div>
</div>

<script>
  let arrestedOnly = false;
  $(() => {
    $("input").checkboxradio({
      icon: false
    });
    $("#checkbox-arrested").on("click", function() {
      if (arrestedOnly) {
        arrestedOnly = false;
        drawTotal(arrestedOnly=false)
      } else {
        arrestedOnly = true;
        drawTotal(arrestedOnly=true)
      }
    });

    $("#crime-type").selectmenu();
    $( "#crime-type" ).selectmenu({
      change: function( event, ui ) {} });

    $("#crime-type")
    .selectmenu("menuWidget")
    .addClass("overflow");

    $( "#crime-type" ).on( "selectmenuchange", function( event, ui ) {
      drawCategories(ui.item.value);
    } );
  });

  drawTotal();
  drawCategories('ASSAULT');
</script>

<!-- Footer -->
<footer class="w3-container w3-padding-32 w3-theme-d1 w3-center">
  <h4>Follow Github Repo</h4>
  <a class="github-button" href="https://github.com/romanovskyj/chicago-crimes-visualization/" data-icon="octicon-eye" aria-label="Watch romanovskyj/chicago-crimes-visualization on GitHub">Watch</a>
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>

  <div style="position:relative;bottom:100px;z-index:1;" class="w3-tooltip w3-right">
    <span class="w3-text w3-padding w3-teal w3-hide-small">Go To Top</span>   
    <a class="w3-button w3-theme" href="#myPage"><span class="w3-xlarge">
    <i class="fa fa-chevron-circle-up"></i></span></a>
  </div>
</footer>

</body>
</html>